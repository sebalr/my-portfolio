(this["webpackJsonpmy-portfolio"]=this["webpackJsonpmy-portfolio"]||[]).push([[0],{112:function(e,t,n){e.exports={red:"ProfitLabel_red__13FZp",green:"ProfitLabel_green__1cJqv"}},176:function(e,t,n){e.exports={graphContainer:"Summary_graphContainer__2VEZH"}},177:function(e,t,n){e.exports={row:"Investment_row__20Q6y"}},200:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(15),i=n.n(c),s=(n(200),n(151)),l=n(20),u=n(372),b=n(360),j=n(361),d=n(18),m=n(180),O=n(380),f=n(356),p=n(174),v=n.n(p),h=n(14),x=n.n(h),g=n(6),w=n(113),y=n(23);!function(e){e[e.new=1]="new",e[e.increase=2]="increase",e[e.decrease=3]="decrease",e[e.update=4]="update"}(a||(a={}));var D=n(170),C=n(181),N=n(179),I=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).investments=void 0,a.operations=void 0,a.version(1).stores({investments:"++id,date",operations:"++id,date,operation,investmentId"}),a.investments=a.table("investments"),a.operations=a.table("operations"),a}return n}(n(171).a),k=n(111),S=n(172),A=n.n(S),F=function(){var e=new Date;return e.setMonth(e.getMonth()-1),{from:e,to:new Date}},_=function(e){if(!(e.length<=1)){for(var t,n,r,o=[],c=0;c<e.length-1;c++){var i=e[c].amountAfter,s=(r=e[c+1]).operation===a.update||r.operation===a.new?r.amount:r.amountBefore;o.push((n=s,0===(t=i)?n>0?1:-1:(n-t)/t))}return o.reduce((function(e,t){return e+t}),0)/o.length}},B=n(2),W=Object(r.createContext)({operations:[],investments:[],selectedInvestment:null,operation:a.new,operationFilters:null}),P=function(e){var t=e.children,n=Object(r.useState)({db:new I("investmentsDb"),investments:[],selectedInvestment:null,operations:[],operationFilters:null,operation:a.new}),o=Object(d.a)(n,2),c=o[0],i=o[1],s=function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.transaction("rw",c.db.investments,c.db.operations,Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.investments.update(t.investmentId,{amount:t.amountAfter,date:t.date});case 2:return e.next=4,c.db.operations.add(t);case 4:i((function(e){var n=e.investments.findIndex((function(e){return e.id===t.investmentId})),a=Object(w.a)(e.investments);return a[n].amount=t.amountAfter,a[n].date=t.date,Object(g.a)(Object(g.a)({},e),{},{investments:a,operations:e.operations.concat(t)})}));case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.transaction("rw",c.db.investments,c.db.operations,Object(y.a)(x.a.mark((function e(){var n,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.investments.add(t);case 2:return n=e.sent,r={investmentId:n,asset:t.asset,date:t.date,amount:t.amount,amountAfter:t.amount,amountBefore:0,operation:a.new},e.next=6,c.db.operations.add(r);case 6:o=Object(g.a)(Object(g.a)({},t),{},{id:n}),i((function(e){return Object(g.a)(Object(g.a)({},e),{},{investments:[].concat(Object(w.a)(e.investments),[o]),operations:e.operations.concat(r)})}));case 8:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(y.a)(x.a.mark((function e(t,n,r){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={investmentId:t.id,asset:t.asset,date:r,amount:n,amountBefore:t.amount,amountAfter:n,operation:a.update},s(o);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.investments.delete(t);case 2:i((function(e){var n=e.investments.filter((function(e){return e.id!==t})),a=e.operations.filter((function(e){return e.investmentId!==t}));return Object(g.a)(Object(g.a)({},e),{},{investments:n,operations:a})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e,t,n){i((function(a){return Object(g.a)(Object(g.a)({},a),{},{investments:e,operations:t,operationFilters:n})}))},m=function(){var e=Object(y.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)(c.db);case 2:t=e.sent,n="portfolio-export-".concat((new Date).toISOString().slice(0,10),".json"),A()(t,n,"application/json");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(x.a.mark((function e(){var t,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.investments.toArray();case 2:return t=e.sent,n=F(),e.next=6,c.db.operations.toArray();case 6:a=e.sent,j(t,a,n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(y.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.delete();case 2:t=new I("investmentsDb"),i((function(e){return Object(g.a)(Object(g.a)({},e),{},{db:t,investments:[],operations:[],operationFilters:null})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(y.a)(x.a.mark((function e(t){var n,a,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,Object(k.b)(t);case 4:return n=e.sent,e.next=7,n.investments.toArray();case 7:return a=e.sent,r=F(),e.next=11,c.db.operations.where("date").between(r.from,r.to).toArray();case 11:o=e.sent,i((function(e){return Object(g.a)(Object(g.a)({},e),{},{db:n,investments:a,operations:o,operationFilters:r})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(y.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.db.operations.where("investmentId").equals(t),e.next=3,n.toArray();case 3:return a=e.sent,e.abrupt("return",_(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.operations.where("date").between(t.from,t.to).toArray();case 2:n=e.sent,i((function(e){return Object(g.a)(Object(g.a)({},e),{},{operationFilters:t,operations:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)(W.Provider,{value:Object(g.a)(Object(g.a)({},c),{},{addInvestment:l,removeInvestment:b,updateInvestment:u,newInvestmentOperation:s,loadDataFromDb:O,exportDb:m,importDb:p,removeDb:f,investmentProfit:v,selectInvestment:function(e){i((function(t){return Object(g.a)(Object(g.a)({},t),{},{selectedInvestment:e})}))},selectInvestmentOperation:function(e,t){i((function(n){return Object(g.a)(Object(g.a)({},n),{},{selectedInvestment:e,operation:t})}))},filterOperations:h}),children:t})},L={newDialogOn:!1,updateDialogOn:!1,newOperationOn:!1,loadDbDialogOn:!1},M=Object(r.createContext)({dialogsState:L}),T=function(e){var t=e.children,n=Object(r.useState)({dialogsState:L}),a=Object(d.a)(n,2),o=a[0],c=a[1];return Object(B.jsx)(M.Provider,{value:{dialogsState:o.dialogsState,openNewDialog:function(){var e=Object(g.a)(Object(g.a)({},L),{},{newDialogOn:!0});c(Object(g.a)(Object(g.a)({},o),{},{dialogsState:e}))},openUpdaeDialog:function(){var e=Object(g.a)(Object(g.a)({},L),{},{updateDialogOn:!0});c(Object(g.a)(Object(g.a)({},o),{},{dialogsState:e}))},openNewOperationDialog:function(){var e=Object(g.a)(Object(g.a)({},L),{},{newOperationOn:!0});c(Object(g.a)(Object(g.a)({},o),{},{dialogsState:e}))},openLoadDbDialog:function(){var e=Object(g.a)(Object(g.a)({},L),{},{loadDbDialogOn:!0});c(Object(g.a)(Object(g.a)({},o),{},{dialogsState:e}))},closeOpenDialogs:function(){c(Object(g.a)(Object(g.a)({},o),{},{dialogsState:L}))}},children:t})},E=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],o=Object(r.useContext)(W),c=o.exportDb,i=o.removeDb,s=Object(r.useContext)(M).openLoadDbDialog,l=function(){a(null)};return Object(B.jsxs)("div",{children:[Object(B.jsx)(f.a,{color:"inherit",onClick:function(e){a(e.currentTarget)},children:Object(B.jsx)(v.a,{})}),Object(B.jsxs)(m.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:l,children:[Object(B.jsx)(O.a,{onClick:function(){c(),l()},children:"Save databse"}),Object(B.jsx)(O.a,{onClick:function(){s(),l()},children:"Import database"}),Object(B.jsx)(O.a,{onClick:function(){i(),l()},children:"Clear database"})]})]})},z=function(){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(b.a,{children:Object(B.jsx)(j.a,{children:Object(B.jsxs)("div",{className:"flex-row",children:[Object(B.jsx)("h3",{children:"My portfolio"}),Object(B.jsx)(E,{})]})})})})},$=n(86),U=n.n($),V=function(e){if(e.length<=0)return null;var t=function(e){var t=U.a.scale([U.a.random(),U.a.random()]).domain([0,e]);return new Array(e).fill(void 0).map((function(e,n){return t(n).toString()}))}(e.length),n=[],a=[];return e.forEach((function(e){n.push(e.asset.abbreviation||e.asset.name),a.push(e.amount)})),{labels:n,datasets:[{label:"Total investment",data:a,backgroundColor:t,borderWidth:1}]}},J=n(175),R=n(362),Z=n(363),q=n(364),H=n(176),K=n.n(H),Q=function(e){var t=e.investments,n=e.openAddDialog,a=V(t),r=null;return t.length>0&&(r=Object(B.jsx)(J.Pie,{data:a})),Object(B.jsx)(R.a,{variant:"outlined",children:Object(B.jsxs)(Z.a,{children:[Object(B.jsxs)("div",{className:"flex-row",children:[Object(B.jsx)("h3",{children:"Portfolio"}),Object(B.jsx)(q.a,{onClick:n,variant:"outlined",color:"primary",children:"Add"})]}),Object(B.jsx)("div",{className:K.a.graphContainer,children:r})]})})},G=Object(r.memo)(Q),X=n(178),Y=n.n(X),ee=n(112),te=n.n(ee),ne=function(e){var t=e.investmentId,n=Object(r.useState)(),a=Object(d.a)(n,2),o=a[0],c=a[1],i=Object(r.useContext)(W).operations;Object(r.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.filter((function(e){return e.investmentId===t})),a=_(n),c(a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var s=o&&o>=0?te.a.green:te.a.red;return Object(B.jsx)("span",{className:s,children:o?"".concat((100*o).toFixed(2)," %"):"-"})},ae=n(177),re=n.n(ae),oe=function(e){var t=e.investment,n=e.update,o=e.newOperation,c=Object(r.useContext)(W).removeInvestment;return Object(B.jsxs)("div",{className:re.a.row,children:[Object(B.jsx)(f.a,{color:"secondary",onClick:function(){c(t.id)},children:Object(B.jsx)(Y.a,{})}),Object(B.jsx)("span",{children:t.asset.name}),Object(B.jsxs)("strong",{children:["$",t.amount.toLocaleString()]}),Object(B.jsx)(ne,{investmentId:t.id}),Object(B.jsxs)("div",{className:"flex-row no-wrap",children:[Object(B.jsx)(q.a,{onClick:function(){o(t,a.decrease)},color:"secondary",size:"small",children:"Decrease"}),Object(B.jsx)(q.a,{onClick:function(){o(t,a.increase)},color:"primary",size:"small",children:"Increase"}),Object(B.jsx)(q.a,{color:"primary",size:"small",onClick:function(){n(t)},children:"Update"})]})]})},ce=Object(r.memo)(oe),ie=n(374),se=function(e){var t=e.fullWidth,n=e.label,a=e.value,r=e.change,o=e.inputVariant,c=void 0===o?"filled":o,i=e.size;return Object(B.jsx)(ie.a,{size:i,fullWidth:t,autoOk:!0,disableToolbar:!0,inputVariant:c,variant:"inline",format:"dd/MM/yyyy",margin:"normal",label:n,value:a,onChange:r,KeyboardButtonProps:{"aria-label":"change date"}})},le=function(){var e=Object(r.useContext)(W),t=e.filterOperations,n=e.operationFilters;Object(r.useEffect)((function(){var e=new Date,a=new Date;a.setMonth(a.getMonth()-1),t(Object(g.a)(Object(g.a)({},n),{},{from:a,to:e}))}),[]);return Object(B.jsxs)("div",{className:"form-row",children:[Object(B.jsx)(se,{size:"small",inputVariant:"outlined",label:"From",value:n.from,change:function(e){e&&t(Object(g.a)(Object(g.a)({},n),{},{from:e}))}}),Object(B.jsx)(se,{size:"small",inputVariant:"outlined",label:"To",value:n.to,change:function(e){e&&t(Object(g.a)(Object(g.a)({},n),{},{to:e}))}})]})},ue=function(e){var t=Object(r.useContext)(W),n=t.selectInvestment,a=t.selectInvestmentOperation,o=Object(r.useContext)(M),c=o.openUpdaeDialog,i=o.openNewOperationDialog,s=function(e){n(e),c()},l=function(e,t){a(e,t),i()},u=e.investments.map((function(e){return Object(B.jsx)(ce,{investment:e,update:s,newOperation:l},e.id)}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(le,{}),u]})},be=function(e){var t=e.openAddDialog;return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:"flex-row",children:["Please add and investment",Object(B.jsx)(q.a,{onClick:t,variant:"outlined",color:"primary",children:"Add"})]})})},je=n(377),de=n(366),me=n(365),Oe=n(371),fe=n(370),pe=n(369),ve=n(368),he=n(367),xe=n(381),ge=function(e){var t=e.type,n=e.label,a=e.value,r=e.adornment,o=e.change,c=e.fullWidth;return Object(B.jsxs)(ve.a,{margin:"normal",variant:"filled",fullWidth:c,children:[Object(B.jsx)(xe.a,{htmlFor:"asset-amount",children:n}),Object(B.jsx)(he.a,{type:t,id:"asset-amount",value:a,onChange:o,startAdornment:Object(B.jsx)(pe.a,{position:"start",children:r})})]})},we=function(e){var t={amount:"",date:new Date},n=Object(r.useContext)(W).updateInvestment,a=Object(r.useState)(t),o=Object(d.a)(a,2),c=o[0],i=o[1],s=e.open,l=e.close,u=e.investment,b=c.amount,j=c.date,m=function(){i(t),l()},O=(null===u||void 0===u?void 0:u.asset.abbreviation)?"".concat(null===u||void 0===u?void 0:u.asset.name," (").concat(null===u||void 0===u?void 0:u.asset.abbreviation,")"):null===u||void 0===u?void 0:u.asset.name;return Object(B.jsx)(je.a,{open:s,onClose:m,"aria-labelledby":"form-dialog-title",children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(u,c.amount,c.date),i(t),l()},children:[Object(B.jsxs)(fe.a,{children:["Update",O]}),Object(B.jsxs)(me.a,{children:[Object(B.jsxs)(Oe.a,{children:["Current ammount:\xa0",u.amount]}),Object(B.jsx)(se,{fullWidth:!0,label:"Date",value:j,change:function(e){e&&i(Object(g.a)(Object(g.a)({},c),{},{date:e}))}}),Object(B.jsx)(ge,{type:"number",fullWidth:!0,label:"Amount",adornment:"$",value:b,change:function(e){i(Object(g.a)(Object(g.a)({},c),{},{amount:e.target.valueAsNumber}))}})]}),Object(B.jsxs)(de.a,{children:[Object(B.jsx)(q.a,{onClick:m,color:"primary",children:"Cancel"}),Object(B.jsx)(q.a,{type:"submit",color:"primary",children:"Save"})]})]})})},ye=n(375),De=function(e){var t={amount:"",date:new Date,asset:null,name:"",abbreviation:""},n=Object(r.useContext)(W).addInvestment,a=Object(r.useState)(t),o=Object(d.a)(a,2),c=o[0],i=o[1],s=e.open,l=e.close,u=c.amount,b=c.date,j=(c.asset,c.name),m=c.abbreviation,O=function(){i(t),l()};return Object(B.jsx)(je.a,{open:s,onClose:O,"aria-labelledby":"form-dialog-title",children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({asset:{name:c.name,abbreviation:c.abbreviation},amount:c.amount,date:c.date}),i(t),l()},children:[Object(B.jsx)(fe.a,{children:"Add asset"}),Object(B.jsxs)(me.a,{children:[Object(B.jsx)(Oe.a,{children:"Add new asset"}),Object(B.jsxs)("div",{className:"flex-row form-row",children:[Object(B.jsx)(ye.a,{className:"flex-grow",value:j,label:"Name",variant:"filled",onChange:function(e){i(Object(g.a)(Object(g.a)({},c),{},{name:e.target.value}))}}),Object(B.jsx)(ye.a,{className:"flex-grow",value:m,label:"Abbreviation",variant:"filled",onChange:function(e){i(Object(g.a)(Object(g.a)({},c),{},{abbreviation:e.target.value}))}})]}),Object(B.jsx)(se,{fullWidth:!0,label:"Date",value:b,change:function(e){e&&i(Object(g.a)(Object(g.a)({},c),{},{date:e}))}}),Object(B.jsx)(ge,{type:"number",fullWidth:!0,label:"Amount",adornment:"$",value:u,change:function(e){i(Object(g.a)(Object(g.a)({},c),{},{amount:e.target.valueAsNumber}))}})]}),Object(B.jsxs)(de.a,{children:[Object(B.jsx)(q.a,{onClick:O,color:"primary",children:"Cancel"}),Object(B.jsx)(q.a,{type:"submit",color:"primary",children:"Save"})]})]})})},Ce=function(e){var t={amount:"",amountBefore:"",amountAfter:"",date:new Date},n=Object(r.useContext)(W).newInvestmentOperation,o=Object(r.useState)(t),c=Object(d.a)(o,2),i=c[0],s=c[1],l=e.investment,u=e.operation,b=e.open,j=e.close,m=i.amount,O=i.date,f=i.amountAfter,p=i.amountBefore;if(!u)return null;var v=function(){s(t),j()},h=function(e){var t=Object(g.a)({},e);return t.amountBefore=Number.isNaN(t.amountBefore)?"":t.amountBefore,t.amount=Number.isNaN(t.amount)?"":t.amount,u===a.increase?t.amountAfter=Number(t.amountBefore)+Number(t.amount):u===a.decrease&&(t.amountAfter=Number(t.amountBefore)-Number(t.amount)),t},x="ERROR!";return u===a.increase?x="Deposit":u===a.decrease&&(x="Whitdraw"),Object(B.jsx)(je.a,{open:b,onClose:v,children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={investmentId:l.id,asset:l.asset,date:O,amount:Number(m),amountBefore:Number(p),amountAfter:Number(f),operation:u};n(a),s(t),j()},children:[Object(B.jsx)(fe.a,{children:"New operation"}),Object(B.jsxs)(me.a,{children:[Object(B.jsx)(Oe.a,{children:x}),Object(B.jsx)(se,{fullWidth:!0,label:"Date",value:O,change:function(e){e&&s(Object(g.a)(Object(g.a)({},i),{},{date:e}))}}),Object(B.jsxs)("div",{className:"flex-row form-row",children:[Object(B.jsx)(ge,{type:"number",fullWidth:!0,label:"Total before operation",adornment:"$",value:p,change:function(e){s((function(t){var n=Object(g.a)(Object(g.a)({},t),{},{amountBefore:e.target.valueAsNumber});return h(n)}))}}),Object(B.jsx)(ge,{type:"number",fullWidth:!0,label:"Operation amount",adornment:"$",value:m,change:function(e){s((function(t){var n=Object(g.a)(Object(g.a)({},t),{},{amount:e.target.valueAsNumber});return h(n)}))}})]}),Object(B.jsxs)("span",{children:["Total after operation: $",f.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),Object(B.jsxs)(de.a,{children:[Object(B.jsx)(q.a,{onClick:v,color:"primary",children:"Cancel"}),Object(B.jsx)(q.a,{type:"submit",color:"primary",children:"Save"})]})]})})},Ne=function(e){var t=e.select;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("input",{id:"button-file",accept:"application/JSON",hidden:!0,type:"file",onChange:function(e){var n;(null===(n=e.target.files)||void 0===n?void 0:n.length)>0&&t(e.target.files[0])}}),Object(B.jsx)("label",{htmlFor:"button-file",children:Object(B.jsx)(q.a,{color:"primary",variant:"outlined",component:"span",children:"Upload"})})]})},Ie=function(e){var t=Object(r.useContext)(W).importDb,n=Object(r.useState)(null),a=Object(d.a)(n,2),o=a[0],c=a[1],i=e.open,s=e.close;return Object(B.jsx)(je.a,{open:i,onClose:s,"aria-labelledby":"form-dialog-title",children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o&&(t(o),s())},children:[Object(B.jsx)(fe.a,{children:"Import Database"}),Object(B.jsxs)(me.a,{children:[Object(B.jsx)(Oe.a,{children:"This operation will replace curent database"}),Object(B.jsx)(Ne,{select:function(e){c(e)}})]}),Object(B.jsxs)(de.a,{children:[Object(B.jsx)(q.a,{onClick:s,color:"primary",children:"Cancel"}),Object(B.jsx)(q.a,{type:"submit",color:"primary",children:"Load"})]})]})})},ke=function(){var e=Object(r.useContext)(W),t=e.selectedInvestment,n=e.investments,a=e.operation,o=Object(r.useContext)(M),c=o.dialogsState,i=o.openNewDialog,s=o.closeOpenDialogs,l=function(){i()},u=function(){s()},b=Object(B.jsx)(be,{openAddDialog:l});n.length>0&&(b=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(G,{openAddDialog:l,investments:n}),Object(B.jsx)(ue,{investments:n})]}));var j=t?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Ie,{open:c.loadDbDialogOn,close:u}),Object(B.jsx)(De,{open:c.newDialogOn,close:u}),Object(B.jsx)(we,{open:c.updateDialogOn,investment:t,close:u}),Object(B.jsx)(Ce,{open:c.newOperationOn,investment:t,operation:a,close:u})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Ie,{open:c.loadDbDialogOn,close:u}),Object(B.jsx)(De,{open:c.newDialogOn,close:u})]});return Object(B.jsxs)(B.Fragment,{children:[j,Object(B.jsx)("h2",{children:"Dashboard"}),b]})},Se=n(87),Ae=n.n(Se),Fe=function(){var e=Object(r.useContext)(W).loadDataFromDb;return Object(r.useEffect)((function(){e()}),[]),Object(B.jsxs)("div",{className:Ae.a.layout,children:[Object(B.jsx)(z,{}),Object(B.jsx)(l.a,{utils:s.a,children:Object(B.jsx)("main",{className:Ae.a.main,children:Object(B.jsx)(u.a,{className:Ae.a.scrollContainer,maxWidth:"md",children:Object(B.jsx)(ke,{})})})})]})},_e=function(){return Object(B.jsx)(T,{children:Object(B.jsx)(P,{children:Object(B.jsx)(Fe,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};i.a.render(Object(B.jsxs)(o.a.StrictMode,{children:[Object(B.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(B.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(B.jsx)(_e,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Be()},87:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",main:"Layout_main__1dFZc",scrollContainer:"Layout_scrollContainer__1u1Tu"}}},[[326,1,2]]]);
//# sourceMappingURL=main.ac20fb75.chunk.js.map